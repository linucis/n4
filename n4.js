#!/usr/bin/env node
function _0x3a2f(_0x3775c3,_0x92dfcb){const _0x1443c6=_0x1443();return _0x3a2f=function(_0x3a2f83,_0x4af880){_0x3a2f83=_0x3a2f83-0x14d;let _0x538dad=_0x1443c6[_0x3a2f83];return _0x538dad;},_0x3a2f(_0x3775c3,_0x92dfcb);}const _0x98ca86=_0x3a2f;(function(_0x5010ee,_0x4d47c2){const _0x4725ec=_0x3a2f,_0x149592=_0x5010ee();while(!![]){try{const _0x1a31cf=-parseInt(_0x4725ec(0x27f))/0x1+-parseInt(_0x4725ec(0x1b7))/0x2*(parseInt(_0x4725ec(0x183))/0x3)+parseInt(_0x4725ec(0x17a))/0x4*(-parseInt(_0x4725ec(0x227))/0x5)+parseInt(_0x4725ec(0x1b8))/0x6*(-parseInt(_0x4725ec(0x153))/0x7)+-parseInt(_0x4725ec(0x21e))/0x8+parseInt(_0x4725ec(0x1f3))/0x9*(parseInt(_0x4725ec(0x1f2))/0xa)+-parseInt(_0x4725ec(0x167))/0xb*(-parseInt(_0x4725ec(0x203))/0xc);if(_0x1a31cf===_0x4d47c2)break;else _0x149592['push'](_0x149592['shift']());}catch(_0x53400c){_0x149592['push'](_0x149592['shift']());}}}(_0x1443,0x6b118));function _0x1443(){const _0x884b3b=['has','\x20\x20The\x20host\x20list\x20separated\x20by\x20commas\x20or\x20spaces\x20to\x20apply\x20the\x20evasion\x20techniques,','\x20\x20--http-host-header-separator\x20STR,\x20$N4_HTTP_HOST_HEADER_SEPARATOR','HTTP:','tlsKey','rstCode','10336nMTTLt','4496004ukocCV','N4_HTTP_HOST_HEADER_SEPARATOR','N4_HTTPS_CLIENTHELLO_SIZE','random','online','httpHostHeaderSeparator','fork','\x20\x20--dot-tls-pin\x20STR,\x20$N4_DOT_TLS_PIN','string','\x20\x20The\x20DoT\x20server\x20host\x20and\x20optionally\x20port\x20(\x221.0.0.1\x22\x20by\x20default).','Unexpected\x20answer\x20question','get','publicKey','--inactivity-timeout','httpTargetSeparator','isIP','move','indexOf','env','all','Answer\x20timeout','N4_DNS_MODE','Unknown\x20DNS\x20mode\x20','resolve','N4_DOH_URL','httpNewlineSeparator','SIGINT','\x20\x20Show\x20this\x20help\x20and\x20quit.','ERROR','HEAD','readUInt8','Connecting\x20to\x20upstream\x20','size','PUT','DEBUG','number','application/dns-message','timeout','address','push','port','set','Answer\x20status\x20','pathname','log','\x20\x20--https-clienthello-size\x20NUM,\x20$N4_HTTPS_CLIENTHELLO_SIZE','happyEyeballs','origin','from','replace','join','root','hasOwnProperty','\x20\x20--http-target-separator\x20STR,\x20$N4_HTTP_TARGET_SEPARATOR','\x20\x20default).','\x20\x20-W,\x20--workers\x20NUM,\x20$N4_WORKERS','kill','delete','1431100LroolR','54dFJGzZ','HTTP/1.0','\x20\x20--tls-cert\x20STR,\x20$N4_TLS_CERT','N4_DNS_CACHE_SIZE','N4_HTTP_METHOD_SEPARATOR','N4_LOG_LEVEL','--addrs','\x20\x20--http-mix-host-header-case\x20BOOL,\x20$N4_HTTP_MIX_HOST_HEADER_CASE','\x20\x20--http-method-separator\x20STR,\x20$N4_HTTP_METHOD_SEPARATOR','\x20\x20The\x20string\x20to\x20use\x20to\x20separate\x20the\x20host\x20header\x20key\x20from\x20its\x20value\x20(\x22:\x22\x20by','write','charCodeAt','Received\x20an\x20invalid\x20target\x20from\x20client\x20','\x20\x20--doh-url\x20STR,\x20$N4_DOH_URL','Illegal\x20option\x20\x22','\x20died\x20(','36gtxdgQ','\x20\x20value\x20disables\x20fragmentation\x20(40\x20by\x20default).','[DEBUG]','\x20\x20Enable\x20Happy\x20Eyeballs\x20algorithm\x20(RFC\x208305)\x20(EXPERIMENTAL)\x20(false\x20by\x20default).','REFUSED_STREAM\x20received,\x20retrying\x20in\x20','N4_HTTP_MIX_HOST_HEADER_CASE','--http-newline-separator','N4_DOH_TLS_SERVERNAME','N4_HOSTS','\x20\x20The\x20address\x20list\x20separated\x20by\x20commas\x20or\x20spaces\x20to\x20bind\x20the\x20server\x20to','destroyed','\x20\x20Alternate\x20upper\x20and\x20lower\x20case\x20in\x20the\x20host\x20header\x20(true\x20by\x20default).','\x20\x20The\x20maximum\x20chunk\x20size\x20in\x20bytes\x20for\x20the\x20ClientHello\x20packet.\x20A\x20less\x20than\x201','\x20\x20--dot-server\x20STR,\x20$N4_DOT_SERVER','toString','data','Exception\x20occurred\x20while\x20sending\x20data\x20to\x20upstream\x20','1.0.0.1','tlsCa','\x20\x20Path\x20to\x20the\x20server\x20TLS\x20key\x20(unspecified\x20by\x20default).','workers','\x0aEncoded\x20question:\x20','--https-clienthello-size','warn','end','dnsMode','levels','856512NmNHXk','Received\x20an\x20unknown\x20method\x20from\x20client\x20','update','--hosts','--http-host-header-separator','Unexpected\x20answer\x20flag','value','--dot-tls-pin','httpMethodSeparator','1835140bIOTdQ','sockets','debug','close','Exception\x20occurred\x20while\x20connecting\x20to\x20upstream\x20','node:net','base64','URL','\x20\x20--happy-eyeballs\x20BOOL,\x20$N4_HAPPY_EYEBALLS','pid','then','node:http2','add','host','Unexpected\x20answer\x20ID','\x20\x20encoded\x20SHA256\x20hash\x20of\x20the\x20public\x20key\x20(unspecified\x20by\x20default).','readUInt16BE','--dns-mode','dohUrl','secureConnect','DELETE','prev','\x20\x20The\x20server\x20name\x20to\x20check\x20in\x20the\x20DoH\x20server\x20certificate\x20(unspecified\x20by','toUpperCase','createHash','N4_TLS_CA','happyEyeballsTimeout','hostname','\x20\x20The\x20string\x20to\x20use\x20to\x20separate\x20the\x20HTTP\x20method\x20from\x20the\x20target\x20(\x22\x20\x22\x20by','writeUInt16BE','dohTlsPin','test','1.0','Resolved\x20','object','tls://','--tls-cert','exit','logLevel','Worker\x20','addrs','[INFO]','\x0aEncoded\x20answer:\x20','N4_TLS_CERT','process','closed','Listening\x20on\x20','ECONNRESET','\x20started','toLowerCase','once','pipe','Socket','match','EPIPE','level','iterator','dnsCache','utf8','slice','\x20\x20--tls-key\x20STR,\x20$N4_TLS_KEY','\x20\x20--doh-tls-pin\x20STR,\x20$N4_DOH_TLS_PIN','\x20\x20--dot-tls-servername\x20STR,\x20$N4_DOT_TLS_SERVERNAME','N4_TLS_KEY','Usage:\x20n4\x20[OPTION]...','https','PATCH','getOwnPropertyDescriptor','protocol','\x20\x20The\x20pin\x20to\x20check\x20in\x20the\x20DoH\x20server\x20certificate.\x20The\x20pin\x20must\x20be\x20a\x20base64','setTimeout','N4_ADDRS','error','message','--https-clienthello-tlsv','SIGTERM','dot','dohTlsServername','ENETUNREACH','https:','readUInt32BE','dnsCacheSize','resolve6','parseInt','servers','[WARN]','key','No\x20address\x20found\x20for\x20','515475OEIuPU','true','\x0aReceived:\x20','--log-level','trim','function','--happy-eyeballs','\x20\x20-h,\x20--help','\x20\x20The\x20pin\x20to\x20check\x20in\x20the\x20DoT\x20server\x20certificate.\x20The\x20pin\x20must\x20be\x20a\x20base64','\x20\x20The\x20TLS\x20protocol\x20version\x20to\x20set\x20in\x20the\x20ClientHello\x20packet,\x20valid\x20values\x20are','N4_HTTP_NEWLINE_SEPARATOR','NONE','destroy','N4_HAPPY_EYEBALLS','tlsClientError','next','Connecting\x20to\x20DoH\x20server\x20','--workers','randomBytes','cause','code','getPeerX509Certificate','--dot-server','connecting','Try\x20\x22--help\x22\x20for\x20usage\x20information.','\x20\x20(60000\x20by\x20default).','--doh-tls-pin','now','dotTlsPin','httpMixHostHeaderCase','max','7ciFeEf','\x20\x20will\x20be\x20applied\x20to\x20all\x20hosts\x20if\x20unspecified\x20(unspecified\x20by\x20default).','pause','http/1.1','toISOString','N4_HAPPY_EYEBALLS_TIMEOUT','create','Host','node:url','tlsCert','back','--dns-cache-size','alloc','find','\x20\x20The\x20string\x20to\x20use\x20to\x20separate\x20the\x20target\x20from\x20the\x20HTTP\x20version\x20(\x22\x20\x22\x20by','createServer','argv',')\x20to\x20','\x20\x20The\x20maximum\x20number\x20of\x20entries\x20in\x20the\x20DNS\x20cache\x20(100000\x20by\x20default).','ttl','7659025sMyeYe','spki','insert','resolver','remove','doh','N4_HTTPS_CLIENTHELLO_TLSV','hosts','expiry','constants','response','node:tls','\x20\x20Path\x20to\x20the\x20server\x20TLS\x20certificate\x20(unspecified\x20by\x20default).','\x20\x20The\x20number\x20of\x20workers\x20(0\x20by\x20default).','connect','list','A\x20proxy\x20server\x20that\x20helps\x20to\x20bypass\x20the\x20DPI\x20systems\x20implemented\x20by\x20various\x20ISPs.','default','map','4pknyGo','--http-method-separator','\x20\x20--dns-mode\x20STR,\x20$N4_DNS_MODE','subarray','INFO','Exception\x20occurred\x20while\x20sending\x20data\x20to\x20client\x20','\x20\x20Maximum\x20time\x20in\x20ms\x20for\x20IPv6\x20before\x20trying\x20IPv4\x20(250\x20by\x20default).','\x20\x20(unspecified\x20by\x20default).','readFileSync','447aKfLKs','split','\x20\x20-l,\x20--log-level\x20STR,\x20$N4_LOG_LEVEL','N4_DOT_TLS_PIN','1.1','values','defineProperty','Info:','OPTIONS','--doh-tls-servername','\x20\x20\x221.0\x22,\x20\x221.1\x22,\x20\x221.2\x22\x20and\x20\x221.3\x22\x20(\x221.3\x22\x20by\x20default).','--http-target-separator','remoteAddress','unref','dotServer','start','Resolver:','\x20\x20The\x20DoH\x20server\x20URL\x20(\x22https://1.0.0.1/dns-query\x22\x20by\x20default).','inactivityTimeout','Received\x20an\x20invalid\x20request\x20from\x20client\x20','Unknown\x20TLS\x20version\x20','\x20\x20--doh-tls-servername\x20STR,\x20$N4_DOH_TLS_SERVERNAME','byteLength','1.3','\x20\x20Show\x20version\x20and\x20quit.','digest','dotTlsServername','POST','httpsClientHelloTLSv','Exiting','enumerable','front','httpsClientHelloSize','prototype','https://1.0.0.1/dns-query','IPv6','export','info','[ERROR]','call','length','Certificate\x20validation\x20error,\x20the\x20public\x20key\x20does\x20not\x20match\x20the\x20pinned\x20one\x0aExpected:\x20','plain','HTTP/1.1','N4_WORKERS','Unexpected\x20answer\x20resource\x20data\x20length'];_0x1443=function(){return _0x884b3b;};return _0x1443();}var ye=Object[_0x98ca86(0x159)],fe=Object[_0x98ca86(0x189)],Re=Object[_0x98ca86(0x26a)],xe=Object['getOwnPropertyNames'],_e=Object['getPrototypeOf'],ge=Object[_0x98ca86(0x1a4)][_0x98ca86(0x1ec)],He=(_0x16b051,_0x5f5473,_0x4d220a,_0x4f5a09)=>{const _0x16e9d9=_0x98ca86;if(_0x5f5473&&typeof _0x5f5473==_0x16e9d9(0x249)||typeof _0x5f5473==_0x16e9d9(0x284)){for(let _0x54eb2a of xe(_0x5f5473))!ge[_0x16e9d9(0x1aa)](_0x16b051,_0x54eb2a)&&_0x54eb2a!==_0x4d220a&&fe(_0x16b051,_0x54eb2a,{'get':()=>_0x5f5473[_0x54eb2a],'enumerable':!(_0x4f5a09=Re(_0x5f5473,_0x54eb2a))||_0x4f5a09[_0x16e9d9(0x1a1)]});}return _0x16b051;},H=(_0xba9972,_0x402c95,_0x239ee4)=>(_0x239ee4=_0xba9972!=null?ye(_e(_0xba9972)):{},He(_0x402c95||!_0xba9972||!_0xba9972['__esModule']?fe(_0x239ee4,'default',{'value':_0xba9972,'enumerable':!0x0}):_0x239ee4,_0xba9972)),L=H(require('node:cluster'),0x1),me=H(require('node:fs'),0x1),u=(_0x4b208b,_0x3a2290)=>_0x4b208b in process[_0x98ca86(0x1ca)]?process[_0x98ca86(0x1ca)][_0x4b208b]:_0x3a2290,p=_0x48c4b9=>_0x48c4b9!==void 0x0?''+_0x48c4b9:void 0x0,x=_0x446bbf=>_0x446bbf!==void 0x0?Number[_0x98ca86(0x27a)](_0x446bbf,0xa):void 0x0,O=_0x5de8e7=>_0x5de8e7!==void 0x0?(''+_0x5de8e7)[_0x98ca86(0x258)]()===_0x98ca86(0x280):void 0x0,$=_0x2215dc=>_0x2215dc!==void 0x0?(''+_0x2215dc)['split'](/[\s,]+/):void 0x0,b=_0xb1e8be=>_0xb1e8be!==void 0x0?me[_0x98ca86(0x178)][_0x98ca86(0x182)](_0xb1e8be):void 0x0,Te=H(require(_0x98ca86(0x22c)),0x1),ve=H(require(_0x98ca86(0x172)),0x1),de=H(require('node:crypto'),0x1),le=H(require('node:dns'),0x1),Ee=H(require(_0x98ca86(0x232)),0x1),ce=H(require(_0x98ca86(0x22c)),0x1),pe=H(require(_0x98ca86(0x172)),0x1),ue=require(_0x98ca86(0x15b)),z=class{#e;#t;#s;constructor(_0x3c303d=-0x1){this.#e=new ae(),this.#t=new Map(),this.#s=_0x3c303d;}get[_0x98ca86(0x152)](){return this.#s;}get[_0x98ca86(0x1d8)](){const _0x2cdfb6=_0x98ca86;return this.#e[_0x2cdfb6(0x1d8)];}['set'](_0x44a998,_0xa53ddf,_0x316372=-0x1){const _0x5b6a29=_0x98ca86;let _0x4e8465=_0x316372>-0x1?Date['now']()+_0x316372*0x3e8:-0x1,_0x5f2f92=this.#t['get'](_0x44a998);if(_0x5f2f92===void 0x0){let _0x5600b2=new V({'key':_0x44a998,'value':_0xa53ddf,'expiry':_0x4e8465});if(this.#e[_0x5b6a29(0x169)](_0x5600b2,this.#e[_0x5b6a29(0x1eb)]),this.#t[_0x5b6a29(0x1e1)](_0x5600b2[_0x5b6a29(0x212)][_0x5b6a29(0x27d)],_0x5600b2),this.#s>-0x1&&this.#s<this.#e[_0x5b6a29(0x1d8)]){let _0x469777=this.#e[_0x5b6a29(0x15d)]();this.#e['remove'](_0x469777),this.#t['delete'](_0x469777[_0x5b6a29(0x212)][_0x5b6a29(0x27d)]);}}else this.#e[_0x5b6a29(0x1c8)](_0x5f2f92,this.#e['root']),_0x5f2f92[_0x5b6a29(0x212)][_0x5b6a29(0x224)]=_0xa53ddf,_0x5f2f92[_0x5b6a29(0x212)]['expiry']=_0x4e8465;}['get'](_0x5991fa){const _0x1df633=_0x98ca86;let _0x567386=this.#t['get'](_0x5991fa);if(_0x567386!==void 0x0){if(_0x567386['data'][_0x1df633(0x16f)]>-0x1&&_0x567386['data']['expiry']<Date[_0x1df633(0x14f)]()){this.#e['remove'](_0x567386),this.#t[_0x1df633(0x1f1)](_0x567386['data']['key']);return;}return this.#e[_0x1df633(0x1c8)](_0x567386,this.#e[_0x1df633(0x1eb)]),_0x567386[_0x1df633(0x212)]['value'];}}[_0x98ca86(0x1f1)](_0x21e32a){const _0x3b8f8d=_0x98ca86;let _0x3ee277=this.#t['get'](_0x21e32a);if(_0x3ee277!==void 0x0)return this.#e['remove'](_0x3ee277),this.#t[_0x3b8f8d(0x1f1)](_0x3ee277[_0x3b8f8d(0x212)][_0x3b8f8d(0x27d)]),_0x3ee277[_0x3b8f8d(0x212)]['value'];}*[Symbol[_0x98ca86(0x25f)]](){const _0x3603b3=_0x98ca86;for(let _0xd8fdeb=this.#e['front']();_0xd8fdeb!==void 0x0;_0xd8fdeb=this.#e[_0x3603b3(0x28e)](_0xd8fdeb))yield _0xd8fdeb['data'][_0x3603b3(0x224)];}},ae=class{constructor(){const _0x463a84=_0x98ca86;this['root']=new V(),this[_0x463a84(0x1eb)][_0x463a84(0x176)]=this,this[_0x463a84(0x1eb)][_0x463a84(0x23c)]=this['root'],this[_0x463a84(0x1eb)]['next']=this[_0x463a84(0x1eb)],this[_0x463a84(0x1d8)]=0x0;}[_0x98ca86(0x15d)](){const _0x5a8519=_0x98ca86;return this['size']>0x0?this[_0x5a8519(0x1eb)][_0x5a8519(0x23c)]:void 0x0;}[_0x98ca86(0x1a2)](){const _0x4b3064=_0x98ca86;return this[_0x4b3064(0x1d8)]>0x0?this['root'][_0x4b3064(0x28e)]:void 0x0;}[_0x98ca86(0x23c)](_0x48f4bf){const _0x39b590=_0x98ca86;return _0x48f4bf['prev']!==_0x48f4bf[_0x39b590(0x176)][_0x39b590(0x1eb)]?_0x48f4bf[_0x39b590(0x23c)]:void 0x0;}['next'](_0x4649a0){const _0x501ccc=_0x98ca86;return _0x4649a0[_0x501ccc(0x28e)]!==_0x4649a0[_0x501ccc(0x176)][_0x501ccc(0x1eb)]?_0x4649a0[_0x501ccc(0x28e)]:void 0x0;}[_0x98ca86(0x16b)](_0x1ef58c){const _0x3d6aed=_0x98ca86;_0x1ef58c[_0x3d6aed(0x176)]===this&&(_0x1ef58c['prev']['next']=_0x1ef58c[_0x3d6aed(0x28e)],_0x1ef58c[_0x3d6aed(0x28e)][_0x3d6aed(0x23c)]=_0x1ef58c[_0x3d6aed(0x23c)],_0x1ef58c['next']=null,_0x1ef58c[_0x3d6aed(0x23c)]=null,_0x1ef58c[_0x3d6aed(0x176)]=null,this[_0x3d6aed(0x1d8)]--);}[_0x98ca86(0x169)](_0xde3c6b,_0x493426){const _0x315bb0=_0x98ca86;_0xde3c6b!==_0x493426&&_0x493426[_0x315bb0(0x176)]===this&&(_0xde3c6b[_0x315bb0(0x23c)]=_0x493426,_0xde3c6b[_0x315bb0(0x28e)]=_0x493426['next'],_0xde3c6b[_0x315bb0(0x23c)][_0x315bb0(0x28e)]=_0xde3c6b,_0xde3c6b['next'][_0x315bb0(0x23c)]=_0xde3c6b,_0xde3c6b[_0x315bb0(0x176)]=this,this[_0x315bb0(0x1d8)]++);}[_0x98ca86(0x1c8)](_0x5e57e9,_0x57b87f){const _0x17edf8=_0x98ca86;_0x5e57e9[_0x17edf8(0x176)]===this&&_0x5e57e9!==_0x57b87f&&_0x5e57e9!==_0x57b87f[_0x17edf8(0x28e)]&&_0x57b87f[_0x17edf8(0x176)]===this&&(_0x5e57e9[_0x17edf8(0x23c)][_0x17edf8(0x28e)]=_0x5e57e9[_0x17edf8(0x28e)],_0x5e57e9['next'][_0x17edf8(0x23c)]=_0x5e57e9[_0x17edf8(0x23c)],_0x5e57e9[_0x17edf8(0x23c)]=_0x57b87f,_0x5e57e9['next']=_0x57b87f[_0x17edf8(0x28e)],_0x5e57e9['prev']['next']=_0x5e57e9,_0x5e57e9[_0x17edf8(0x28e)][_0x17edf8(0x23c)]=_0x5e57e9);}},V=class{constructor(_0x5a25a8){const _0x52c372=_0x98ca86;this[_0x52c372(0x212)]=_0x5a25a8,this[_0x52c372(0x176)]=null,this['prev']=null,this['next']=null;}},he=class{[_0x98ca86(0x21d)]={'NONE':0x0,'ERROR':0x1,'WARN':0x2,'INFO':0x3,'DEBUG':0x4};#e;constructor(_0xec5ab0=this['levels']['INFO']){this['level']=_0xec5ab0;}get[_0x98ca86(0x25e)](){return this.#e;}set[_0x98ca86(0x25e)](_0x5d6e2e){const _0x575052=_0x98ca86;typeof _0x5d6e2e==_0x575052(0x1db)?this.#e=_0x5d6e2e:this.#e=this['levels'][_0x5d6e2e?.[_0x575052(0x23e)]()]??this[_0x575052(0x21d)][_0x575052(0x28a)];}get#t(){const _0x434ec5=_0x98ca86;return'['+new Date()[_0x434ec5(0x157)]()+']\x20['+process[_0x434ec5(0x230)]+']';}[_0x98ca86(0x26f)]=(..._0x3a73ca)=>{const _0x4e2f7c=_0x98ca86;this[_0x4e2f7c(0x25e)]>=this[_0x4e2f7c(0x21d)][_0x4e2f7c(0x1d4)]&&console[_0x4e2f7c(0x26f)](this.#t,_0x4e2f7c(0x1a9),..._0x3a73ca);};[_0x98ca86(0x21a)]=(..._0x420273)=>{const _0x16f5c8=_0x98ca86;this[_0x16f5c8(0x25e)]>=this[_0x16f5c8(0x21d)]['WARN']&&console[_0x16f5c8(0x21a)](this.#t,_0x16f5c8(0x27c),..._0x420273);};[_0x98ca86(0x1a8)]=(..._0xc2510d)=>{const _0x27352c=_0x98ca86;this[_0x27352c(0x25e)]>=this[_0x27352c(0x21d)][_0x27352c(0x17e)]&&console[_0x27352c(0x1a8)](this.#t,_0x27352c(0x250),..._0xc2510d);};[_0x98ca86(0x229)]=(..._0x413ec7)=>{const _0x2c0443=_0x98ca86;this[_0x2c0443(0x25e)]>=this[_0x2c0443(0x21d)][_0x2c0443(0x1da)]&&console[_0x2c0443(0x229)](this.#t,_0x2c0443(0x205),..._0x413ec7);};},v=new he(),K=class extends Error{constructor(_0x528bdf){const _0x199f2d=_0x98ca86;super(_0x199f2d(0x197)+_0x528bdf);}},U=class extends Error{constructor(_0x1a729b){const _0x1aaf7c=_0x98ca86;super(_0x1aaf7c(0x196)+_0x1a729b[_0x1aaf7c(0x18f)]);}},q=class extends Error{constructor(_0x25d26f){const _0x1a4cd0=_0x98ca86;super(_0x1a4cd0(0x21f)+_0x25d26f[_0x1a4cd0(0x18f)]);}},Y=class extends Error{constructor(_0xe71645){const _0x5715d7=_0x98ca86;super(_0x5715d7(0x1ff)+_0xe71645[_0x5715d7(0x18f)]);}},F=class extends Error{constructor(_0x1b53ac){super('Received\x20an\x20unknown\x20HTTP\x20version\x20from\x20client\x20'+_0x1b53ac['remoteAddress']);}},W=class extends Error{constructor(_0x383fec,_0x4161ee){const _0x226ac6=_0x98ca86;super(_0x226ac6(0x22b)+_0x383fec[_0x226ac6(0x18f)]+':\x20'+_0x4161ee[_0x226ac6(0x270)]);}},w=class extends Error{constructor(_0xc460fa,_0x78e7e4){const _0x23097f=_0x98ca86;super(_0x23097f(0x213)+_0xc460fa[_0x23097f(0x18f)]+':\x20'+_0x78e7e4[_0x23097f(0x270)]);}},X=class extends Error{constructor(_0x226bc0,_0x254d42){const _0x3c6ce3=_0x98ca86;super(_0x3c6ce3(0x17f)+_0x226bc0[_0x3c6ce3(0x18f)]+':\x20'+_0x254d42['message']);}},Z=class extends Error{constructor(_0x59938e){const _0x3e148c=_0x98ca86;super(_0x3e148c(0x1ce)+_0x59938e);}},M=class extends Error{constructor(_0x5f5bec){const _0x52552b=_0x98ca86;super(_0x52552b(0x27e)+_0x5f5bec);}},G=class extends Error{constructor(_0x100707,_0x2a1170){const _0x34d600=_0x98ca86;super(_0x34d600(0x1ac)+_0x100707+_0x34d600(0x281)+_0x2a1170);}},g=class extends Error{constructor(_0x474841,_0x48789e,_0x12fdcb){const _0x3cb259=_0x98ca86;_0x48789e&&(_0x474841+=_0x3cb259(0x218)+_0x48789e[_0x3cb259(0x211)](_0x3cb259(0x22d))),_0x12fdcb&&(_0x474841+=_0x3cb259(0x251)+_0x12fdcb[_0x3cb259(0x211)](_0x3cb259(0x22d))),super(_0x474841);}},k=class extends g{constructor(_0x52fc22,_0x89302c){const _0x107efc=_0x98ca86;super(_0x107efc(0x1cc),_0x52fc22,_0x89302c);}},j=class extends g{constructor(_0x3cfa27,_0x26fade,_0x4555c5){const _0x4a893d=_0x98ca86;super(_0x4a893d(0x1e2)+_0x3cfa27,_0x26fade,_0x4555c5);}},Q=class extends g{constructor(_0x27e3d7,_0x5d834d){super('Unexpected\x20answer\x20length',_0x27e3d7,_0x5d834d);}},J=class extends g{constructor(_0x5bfad1,_0x1d94a8){const _0x358e7e=_0x98ca86;super(_0x358e7e(0x235),_0x5bfad1,_0x1d94a8);}},ee=class extends g{constructor(_0x28b40a,_0x12a7f7){const _0x14aa51=_0x98ca86;super(_0x14aa51(0x223),_0x28b40a,_0x12a7f7);}},te=class extends g{constructor(_0x43ae8b,_0x3dacf7){super('Unexpected\x20answer\x20count',_0x43ae8b,_0x3dacf7);}},se=class extends g{constructor(_0x8d5c29,_0x186328){const _0x5004f1=_0x98ca86;super(_0x5004f1(0x1c2),_0x8d5c29,_0x186328);}},B=class extends g{constructor(_0x609a8b,_0x59d666){const _0x5aae27=_0x98ca86;super(_0x5aae27(0x1b0),_0x609a8b,_0x59d666);}},{HTTP2_HEADER_ACCEPT:Ie,HTTP2_HEADER_CONTENT_LENGTH:be,HTTP2_HEADER_CONTENT_TYPE:De,HTTP2_HEADER_METHOD:Pe,HTTP2_HEADER_PATH:we,HTTP2_HEADER_SCHEME:Me,HTTP2_HEADER_STATUS:Ce,NGHTTP2_REFUSED_STREAM:Le}=Ee[_0x98ca86(0x178)][_0x98ca86(0x170)],C=class{#e=0x1e;#t=0x1388;#s;constructor({dnsMode:_0x155a0d=_0x98ca86(0x16c),dnsCacheSize:_0x2744de=0x186a0,dohUrl:_0x59d906=_0x98ca86(0x1a5),dohTlsServername:_0x2b2aef,dohTlsPin:_0x1756d7,dotServer:_0x4ab830=_0x98ca86(0x214),dotTlsServername:_0x31c5bb,dotTlsPin:_0x4ccf8f}={}){const _0x31a481=_0x98ca86;this['dnsMode']=_0x155a0d,this['dnsCache']=new z(_0x2744de),this[_0x31a481(0x239)]=new ue['URL'](_0x59d906),_0x2b2aef?this[_0x31a481(0x274)]=_0x2b2aef:ce['default'][_0x31a481(0x1c7)](this['dohUrl']['hostname'])===0x0&&(this[_0x31a481(0x274)]=this[_0x31a481(0x239)][_0x31a481(0x242)]),this[_0x31a481(0x245)]=_0x1756d7,this[_0x31a481(0x191)]=new ue[(_0x31a481(0x22e))](_0x31a481(0x24a)+_0x4ab830),_0x31c5bb?this[_0x31a481(0x19d)]=_0x31c5bb:ce[_0x31a481(0x178)]['isIP'](this[_0x31a481(0x191)][_0x31a481(0x242)])===0x0&&(this[_0x31a481(0x19d)]=this['dotServer'][_0x31a481(0x242)]),this[_0x31a481(0x150)]=_0x4ccf8f;}async[_0x98ca86(0x1cf)](_0x452967){const _0xdaa952=_0x98ca86;let _0x4a588c=await Promise[_0xdaa952(0x1cb)]([0x6,0x4][_0xdaa952(0x179)](async _0x17a927=>{const _0x277af8=_0xdaa952;let _0x35ea78=_0x452967+','+_0x17a927,_0x1c5180=this[_0x277af8(0x260)][_0x277af8(0x1c3)](_0x35ea78);if(_0x1c5180===void 0x0){v[_0x277af8(0x229)]('Resolving\x20'+_0x452967+'\x20('+_0x17a927+')');let _0x252252=await this.#h(_0x452967,_0x17a927);v[_0x277af8(0x229)](_0x277af8(0x248)+_0x452967+'\x20('+_0x17a927+_0x277af8(0x164)+_0x252252[_0x277af8(0x1de)]),this['dnsCache'][_0x277af8(0x1e1)](_0x35ea78,_0x252252[_0x277af8(0x1de)],_0x252252['ttl']),_0x1c5180=_0x252252[_0x277af8(0x1de)];}return{'address':_0x1c5180,'family':_0x17a927};}));if(_0x4a588c=_0x4a588c['filter'](({address:_0x283fd8})=>_0x283fd8!==null),_0x4a588c[_0xdaa952(0x1ab)]===0x0)throw new M(_0x452967);return _0x4a588c;}#h(..._0x5c1dc7){const _0x2785bb=_0x98ca86;switch(this[_0x2785bb(0x21c)]){case _0x2785bb(0x1ad):return this.#d(..._0x5c1dc7);case'doh':return this.#r(..._0x5c1dc7);case _0x2785bb(0x273):return this.#l(..._0x5c1dc7);default:throw new Z(this[_0x2785bb(0x21c)]);}}#d(_0x3ad27e,_0x14d7a5){return new Promise(_0x48c261=>{const _0x4e1d96=_0x3a2f;(_0x14d7a5===0x6?le[_0x4e1d96(0x178)][_0x4e1d96(0x279)]:le[_0x4e1d96(0x178)]['resolve4'])(_0x3ad27e,{'ttl':!0x0},(_0x318230,_0x513a20)=>{const _0x5e60cf=_0x4e1d96;_0x318230||_0x513a20[_0x5e60cf(0x1ab)]===0x0?_0x48c261({'address':null,'ttl':this.#e}):_0x48c261({'address':_0x513a20[0x0][_0x5e60cf(0x1de)],'ttl':_0x513a20[0x0][_0x5e60cf(0x166)]});});});}#r(_0x321d35,_0x31592c,_0x3d54ab=0x0){return new Promise((_0x57150c,_0x5c7dbf)=>{const _0x52af26=_0x3a2f;let _0x2c31aa=this.#o(_0x321d35,_0x31592c);(this.#s===void 0x0||this.#s[_0x52af26(0x20d)]||this.#s[_0x52af26(0x254)])&&(v[_0x52af26(0x229)](_0x52af26(0x28f)+this[_0x52af26(0x239)][_0x52af26(0x234)]),this.#s=Ee['default'][_0x52af26(0x175)](this[_0x52af26(0x239)][_0x52af26(0x1e7)],{'servername':this[_0x52af26(0x274)],'createConnection':()=>{const _0x14d1a0=_0x52af26;let _0x5cc504;try{_0x5cc504=pe[_0x14d1a0(0x178)]['connect']({'host':this[_0x14d1a0(0x239)][_0x14d1a0(0x242)],'port':this[_0x14d1a0(0x239)][_0x14d1a0(0x1e0)]||0x1bb,'servername':this[_0x14d1a0(0x274)],'ALPNProtocols':['h2'],'rejectUnauthorized':typeof this[_0x14d1a0(0x274)]=='string'||typeof this[_0x14d1a0(0x245)]!=_0x14d1a0(0x1c0)});}catch(_0x453f07){this.#s[_0x14d1a0(0x28b)](_0x453f07);return;}return _0x5cc504[_0x14d1a0(0x259)]('error',_0xfbc20c=>{const _0x354828=_0x14d1a0;this.#s[_0x354828(0x28b)](_0xfbc20c);}),_0x5cc504['once'](_0x14d1a0(0x23a),()=>{const _0x5c35b8=_0x14d1a0;if(typeof this[_0x5c35b8(0x245)]==_0x5c35b8(0x1c0)){let _0x438be0=_0x5cc504[_0x5c35b8(0x294)](),_0x4fc661=this.#c(_0x438be0);this['dohTlsPin']!==_0x4fc661&&this.#s[_0x5c35b8(0x28b)](new G(this[_0x5c35b8(0x245)],_0x4fc661));}}),_0x5cc504;}}),this.#s[_0x52af26(0x259)](_0x52af26(0x26f),_0x433ad4=>{_0x5c7dbf(_0x433ad4);}),this.#s[_0x52af26(0x190)]());let _0x31f80b=this.#s['request']({[Pe]:_0x52af26(0x19e),[Me]:_0x52af26(0x268),[we]:this[_0x52af26(0x239)][_0x52af26(0x1e3)],[Ie]:_0x52af26(0x1dc),[De]:_0x52af26(0x1dc),[be]:_0x2c31aa[_0x52af26(0x1ab)]});_0x31f80b[_0x52af26(0x26d)](this.#t),_0x31f80b[_0x52af26(0x259)](_0x52af26(0x1dd),()=>{_0x31f80b['destroy'](new k(_0x2c31aa));}),_0x31f80b[_0x52af26(0x259)]('error',_0x498bf4=>{const _0x18620a=_0x52af26;_0x31f80b[_0x18620a(0x1b6)]===Le&&_0x3d54ab<0x5?_0x57150c(new Promise(_0x3199ba=>{const _0x218810=_0x18620a;_0x3d54ab++;let _0x49c3ba=0x2**(_0x3d54ab+Math[_0x218810(0x1bb)]())*0x14|0x0;v[_0x218810(0x229)](_0x218810(0x207)+_0x49c3ba+'ms'),setTimeout(()=>_0x3199ba(this.#r(_0x321d35,_0x31592c,_0x3d54ab)),_0x49c3ba);})):_0x5c7dbf(_0x498bf4[_0x18620a(0x292)]??_0x498bf4);}),_0x31f80b['once'](_0x52af26(0x171),_0x26fcb9=>{const _0x4bab97=_0x52af26;let _0x5f008b=_0x26fcb9[Ce];_0x5f008b!==0xc8&&_0x31f80b[_0x4bab97(0x28b)](new j(_0x5f008b,_0x2c31aa));});let _0x1b9b75=[];_0x31f80b['on'](_0x52af26(0x212),_0x56adcc=>_0x1b9b75[_0x52af26(0x1df)](_0x56adcc)),_0x31f80b['once']('end',()=>{if(_0x1b9b75['length']>0x0)try{_0x57150c(this.#n(_0x2c31aa,Buffer['concat'](_0x1b9b75)));}catch(_0x1dfa18){_0x5c7dbf(_0x1dfa18);}}),_0x31f80b[_0x52af26(0x21b)](_0x2c31aa);});}#l(_0x556137,_0x3f4813){return new Promise((_0x1472d3,_0x43066e)=>{const _0x3c75b1=_0x3a2f;let _0x5d5aa7=this.#o(_0x556137,_0x3f4813),_0x4c1484;try{_0x4c1484=pe[_0x3c75b1(0x178)][_0x3c75b1(0x175)]({'host':this[_0x3c75b1(0x191)][_0x3c75b1(0x242)],'port':this[_0x3c75b1(0x191)][_0x3c75b1(0x1e0)]||0x355,'servername':this[_0x3c75b1(0x19d)],'ALPNProtocols':[_0x3c75b1(0x273)],'rejectUnauthorized':typeof this[_0x3c75b1(0x19d)]==_0x3c75b1(0x1c0)||typeof this[_0x3c75b1(0x150)]!='string'});}catch(_0x52279b){_0x43066e(_0x52279b);return;}_0x4c1484[_0x3c75b1(0x26d)](this.#t),_0x4c1484['once'](_0x3c75b1(0x1dd),()=>{const _0x4f6b1f=_0x3c75b1;_0x4c1484[_0x4f6b1f(0x28b)](new k(_0x5d5aa7));}),_0x4c1484[_0x3c75b1(0x259)](_0x3c75b1(0x26f),_0x3ae1f0=>{_0x43066e(_0x3ae1f0);}),_0x4c1484[_0x3c75b1(0x259)](_0x3c75b1(0x23a),()=>{const _0x3fb23a=_0x3c75b1;if(typeof this[_0x3fb23a(0x150)]==_0x3fb23a(0x1c0)){let _0x3139ab=_0x4c1484['getPeerX509Certificate'](),_0x5ec739=this.#c(_0x3139ab);if(this[_0x3fb23a(0x150)]!==_0x5ec739){_0x4c1484['destroy'](new G(this['dotTlsPin'],_0x5ec739));return;}}let _0x53c6a4=Buffer[_0x3fb23a(0x15f)](0x2);_0x53c6a4[_0x3fb23a(0x244)](_0x5d5aa7[_0x3fb23a(0x199)],0x0),_0x4c1484['write'](Buffer['concat']([_0x53c6a4,_0x5d5aa7]));}),_0x4c1484['once'](_0x3c75b1(0x212),_0x31a122=>{const _0x4bbd98=_0x3c75b1;_0x4c1484[_0x4bbd98(0x28b)]();try{if(_0x31a122[_0x4bbd98(0x237)](0x0)!==_0x31a122[_0x4bbd98(0x199)]-0x2)throw new Q(_0x5d5aa7,_0x31a122);_0x1472d3(this.#n(_0x5d5aa7,_0x31a122[_0x4bbd98(0x17d)](0x2)));}catch(_0x12acef){_0x43066e(_0x12acef);}});});}#o(_0x3463df,_0x22770e){const _0x707c61=_0x98ca86;return Buffer[_0x707c61(0x1e8)]([...de[_0x707c61(0x178)][_0x707c61(0x291)](0x2),0x0<<0x7|0x0<<0x3|0x0<<0x2|0x0<<0x1|0x1,0x0<<0x7|0x0<<0x6|0x0<<0x5|0x0<<0x4|0x0,0x0,0x1,0x0,0x0,0x0,0x0,0x0,0x0,...this.#a(_0x3463df),0x0,_0x22770e===0x6?0x1c:0x1,0x0,0x1]);}#n(_0xed161f,_0x4c2c70){const _0x343d8f=_0x98ca86;let _0x1d438f=0x0,_0x479e75=_0xed161f[_0x343d8f(0x237)](0x0);if(_0x4c2c70['readUInt16BE'](_0x1d438f)!==_0x479e75)throw new J(_0xed161f,_0x4c2c70);let _0x4021bf=_0x4c2c70[_0x343d8f(0x237)](_0x1d438f+=0x2),_0x1aa76e=_0x4021bf>>0xf&0x1,_0xad3d4a=_0x4021bf>>0xb&0xf,_0x8a2e97=_0x4021bf>>0x9&0x1,_0x2585ef=_0x4021bf&0xf;if(_0x1aa76e!==0x1||_0xad3d4a!==0x0||_0x8a2e97!==0x0||_0x2585ef>0xf)throw new ee(_0xed161f,_0x4c2c70);let _0x4e27a7=_0x4c2c70[_0x343d8f(0x237)](_0x1d438f+=0x2),_0x577196=_0x4c2c70[_0x343d8f(0x237)](_0x1d438f+=0x2),_0x32f55b=_0x4c2c70['readUInt16BE'](_0x1d438f+=0x2),_0x4aa6bf=_0x4c2c70[_0x343d8f(0x237)](_0x1d438f+=0x2);if(_0x4e27a7!==0x1)throw new te(_0xed161f,_0x4c2c70);let [,_0x18a7bc]=this.#i(_0x4c2c70,_0x1d438f+=0x2),_0x1b6de6=_0x4c2c70[_0x343d8f(0x237)](_0x1d438f+=_0x18a7bc),_0x5bddc6=_0x4c2c70[_0x343d8f(0x237)](_0x1d438f+=0x2);if(_0x1b6de6!==0x1&&_0x1b6de6!==0x1c||_0x5bddc6!==0x1)throw new se(_0xed161f,_0x4c2c70);_0x1d438f+=0x2;for(let _0x30dcba=0x0;_0x30dcba<_0x577196+_0x32f55b+_0x4aa6bf;_0x30dcba++){let [,_0x2988cc]=this.#i(_0x4c2c70,_0x1d438f),_0x593c60=_0x4c2c70[_0x343d8f(0x237)](_0x1d438f+=_0x2988cc),_0x5e4680=_0x4c2c70[_0x343d8f(0x237)](_0x1d438f+=0x2),_0x441d01=_0x4c2c70[_0x343d8f(0x277)](_0x1d438f+=0x2),_0x324d55=_0x4c2c70[_0x343d8f(0x237)](_0x1d438f+=0x4),_0x3f6717=_0x4c2c70[_0x343d8f(0x262)](_0x1d438f+=0x2,_0x1d438f+=_0x324d55);if(_0x5e4680===0x1){if(_0x593c60===0x1&&_0x593c60===_0x1b6de6){if(_0x324d55!==0x4)throw new B(_0xed161f,_0x4c2c70);let _0x3de2b7='';for(let _0x55fb4a=0x0;_0x55fb4a<0x4;_0x55fb4a++)_0x55fb4a!==0x0&&(_0x3de2b7+='.'),_0x3de2b7+=_0x3f6717[_0x55fb4a][_0x343d8f(0x211)](0xa);return{'address':_0x3de2b7,'ttl':_0x441d01};}if(_0x593c60===0x1c&&_0x593c60===_0x1b6de6){if(_0x324d55!==0x10)throw new B(_0xed161f,_0x4c2c70);let _0x21cfea='';for(let _0x56c377=0x0;_0x56c377<0x10;_0x56c377+=0x2)_0x56c377!==0x0&&(_0x21cfea+=':'),_0x21cfea+=(_0x3f6717[_0x56c377]<<0x8|_0x3f6717[_0x56c377+0x1])[_0x343d8f(0x211)](0x10);return{'address':_0x21cfea,'ttl':_0x441d01};}if(_0x593c60===0x6)return{'address':null,'ttl':_0x441d01};}}return{'address':null,'ttl':this.#e};}#a(_0x54f844){const _0x2ed785=_0x98ca86;let _0x119ccc=[];for(let _0x200436 of _0x54f844[_0x2ed785(0x184)]('.'))if(_0x200436[_0x2ed785(0x1ab)]!==0x0){_0x119ccc[_0x2ed785(0x1df)](_0x200436[_0x2ed785(0x1ab)]);for(let _0x12b126 of _0x200436)_0x119ccc['push'](_0x12b126[_0x2ed785(0x1fe)](0x0));}return _0x119ccc['push'](0x0),Buffer[_0x2ed785(0x1e8)](_0x119ccc);}#i(_0x454827,_0x12f124=0x0){const _0x19b779=_0x98ca86;let _0x51874c=[],_0x1d9aa4=0x0,_0x5b697b=_0x454827[_0x19b779(0x1d6)](_0x12f124);if(_0x5b697b===0x0)return['.',0x1];if(_0x5b697b>=0xc0){let [_0x2b9bfb]=this.#i(_0x454827,_0x454827[_0x19b779(0x237)](_0x12f124)-0xc000);return[_0x2b9bfb,0x2];}for(;_0x5b697b>0x0;){if(_0x5b697b>=0xc0){let [_0x2ecddd]=this.#i(_0x454827,_0x454827['readUInt16BE'](_0x12f124)-0xc000);_0x51874c[_0x19b779(0x1df)](_0x2ecddd);let _0x353d4b=_0x51874c[_0x19b779(0x1ea)]('.');return _0x1d9aa4+=0x2,[_0x353d4b,_0x1d9aa4];}_0x51874c[_0x19b779(0x1df)](_0x454827[_0x19b779(0x211)](_0x19b779(0x261),++_0x12f124,_0x12f124+_0x5b697b)),_0x1d9aa4+=_0x5b697b+0x1,_0x5b697b=_0x454827[_0x19b779(0x1d6)](_0x12f124+=_0x5b697b);}let _0x26f5fa=_0x51874c[_0x19b779(0x1ea)]('.');return _0x1d9aa4+=0x1,[_0x26f5fa,_0x1d9aa4];}#c(_0x75f479){const _0x3d9d1d=_0x98ca86;let _0x188277=_0x75f479[_0x3d9d1d(0x1c4)][_0x3d9d1d(0x1a7)]({'type':_0x3d9d1d(0x168),'format':'der'});return de[_0x3d9d1d(0x178)][_0x3d9d1d(0x23f)]('sha256')[_0x3d9d1d(0x220)](_0x188277)[_0x3d9d1d(0x19c)]('base64');}},re=class{#e=[];#t=new Set([_0x98ca86(0x1f4),_0x98ca86(0x1ae)]);#s=new Set(['GET',_0x98ca86(0x1d5),_0x98ca86(0x19e),_0x98ca86(0x1d9),_0x98ca86(0x23b),'CONNECT',_0x98ca86(0x18b),'TRACE',_0x98ca86(0x269)]);#h=new Map([[_0x98ca86(0x247),0x301],[_0x98ca86(0x187),0x302],['1.2',0x303],[_0x98ca86(0x19a),0x304]]);constructor({addrs:_0x474ca1=['[::]:8080'],hosts:_0x2fb50c=[],tlsCa:_0x3f5b55,tlsKey:_0x597c06,tlsCert:_0x161484,inactivityTimeout:_0x32a7b4=0xea60,happyEyeballs:_0x14ab6f=!0x1,happyEyeballsTimeout:_0x3a97d6=0xfa,httpsClientHelloSize:_0x17a7ee=0x28,httpsClientHelloTLSv:_0x798757='1.3',httpNewlineSeparator:_0x10897d='\x0d\x0a',httpMethodSeparator:_0x278b20='\x20',httpTargetSeparator:_0x4abedc='\x20',httpHostHeaderSeparator:_0x454c9c=':',httpMixHostHeaderCase:_0x6bd0f4=!0x0,resolver:_0x1cae57=new C()}={}){const _0x2e326d=_0x98ca86;if(this.#e=_0x474ca1[_0x2e326d(0x179)](_0x47f4f7=>new URL(/^[a-z0-9.+-]+:\/\//i[_0x2e326d(0x246)](_0x47f4f7)?_0x47f4f7:'http://'+_0x47f4f7)),this[_0x2e326d(0x16e)]=new Set(_0x2fb50c),this['tlsCa']=_0x3f5b55,this['tlsKey']=_0x597c06,this[_0x2e326d(0x15c)]=_0x161484,this[_0x2e326d(0x195)]=_0x32a7b4,this[_0x2e326d(0x1e6)]=_0x14ab6f,this[_0x2e326d(0x241)]=_0x3a97d6,this[_0x2e326d(0x1a3)]=_0x17a7ee,this.#h[_0x2e326d(0x1b1)](_0x798757))this[_0x2e326d(0x19f)]=this.#h[_0x2e326d(0x1c3)](_0x798757);else throw new K(_0x798757);this['httpNewlineSeparator']=this.#p(_0x10897d),this[_0x2e326d(0x226)]=this.#p(_0x278b20),this[_0x2e326d(0x1c6)]=this.#p(_0x4abedc),this[_0x2e326d(0x1bd)]=this.#p(_0x454c9c),this[_0x2e326d(0x151)]=_0x6bd0f4,this['resolver']=_0x1cae57,this[_0x2e326d(0x27b)]=new Set(),this[_0x2e326d(0x228)]=new Set();}async[_0x98ca86(0x192)](){const _0x2e575c=_0x98ca86;for(let _0x4a8314 of this.#e){let _0x33e49f=_0x4a8314[_0x2e575c(0x26b)]===_0x2e575c(0x276),_0x177edb=_0x4a8314['hostname'][_0x2e575c(0x25c)](/^\[(.+)\]$/)?.[0x1]??_0x4a8314[_0x2e575c(0x242)],_0x86c004=_0x4a8314[_0x2e575c(0x1e0)]||(_0x33e49f?0x1bb:0x50),_0xe94486;_0x33e49f?(_0xe94486=ve[_0x2e575c(0x178)][_0x2e575c(0x162)]({'ca':this[_0x2e575c(0x215)],'key':this[_0x2e575c(0x1b5)],'cert':this[_0x2e575c(0x15c)],'ALPNProtocols':[_0x2e575c(0x156)],'requestCert':this[_0x2e575c(0x215)]!==void 0x0},this.#d),_0xe94486['on'](_0x2e575c(0x28d),(_0x2dbae9,_0x52181f)=>{this.#r(_0x52181f),this.#n(_0x2dbae9);})):_0xe94486=Te['default'][_0x2e575c(0x162)](this.#d),this['servers'][_0x2e575c(0x233)](_0xe94486),_0xe94486['once'](_0x2e575c(0x22a),()=>this['servers'][_0x2e575c(0x1f1)](_0xe94486)),await new Promise((_0xcaa494,_0x32a428)=>{_0xe94486['listen'](_0x86c004,_0x177edb,_0x4c5e78=>{_0x4c5e78?_0x32a428(_0x4c5e78):_0xcaa494();});});}return this['servers'];}async['stop'](){const _0x52724f=_0x98ca86;for(let _0x29c4b4 of this[_0x52724f(0x228)])this.#r(_0x29c4b4);for(let _0x35a6e9 of this['servers'])await new Promise(_0x21ee32=>_0x35a6e9[_0x52724f(0x22a)](_0x21ee32));}#d=_0x4118c0=>{const _0x178a50=_0x98ca86;let _0x11ad37=new Te[(_0x178a50(0x178))][(_0x178a50(0x25b))]();this[_0x178a50(0x228)][_0x178a50(0x233)](_0x4118c0),this[_0x178a50(0x228)]['add'](_0x11ad37),_0x4118c0[_0x178a50(0x26d)](this[_0x178a50(0x195)]),_0x11ad37[_0x178a50(0x26d)](this['inactivityTimeout']),_0x4118c0['once']('timeout',()=>{this.#l(_0x4118c0,_0x11ad37);}),_0x11ad37[_0x178a50(0x259)]('timeout',()=>{this.#l(_0x11ad37,_0x4118c0);}),_0x4118c0[_0x178a50(0x259)](_0x178a50(0x22a),()=>{this.#o(_0x4118c0,_0x11ad37);}),_0x11ad37[_0x178a50(0x259)](_0x178a50(0x22a),()=>{this.#o(_0x11ad37,_0x4118c0);}),_0x4118c0[_0x178a50(0x259)](_0x178a50(0x26f),_0x2337d9=>{this.#n(_0x2337d9);}),_0x11ad37[_0x178a50(0x259)](_0x178a50(0x26f),_0x176c48=>{this.#n(_0x176c48);}),_0x4118c0['once'](_0x178a50(0x212),_0x12f6cd=>{const _0x26cb17=_0x178a50;_0x4118c0[_0x26cb17(0x155)]();let _0x5020b5=this.#a(_0x12f6cd,0x0);if(_0x5020b5['data']===void 0x0){this.#r(_0x4118c0,new U(_0x4118c0));return;}let _0x40daa0=this.#i(_0x5020b5[_0x26cb17(0x212)],[0x9,0x20],0x3);if(_0x40daa0['length']!==0x3){this.#r(_0x4118c0,new U(_0x4118c0));return;}let _0x24f177=_0x40daa0[0x0][_0x26cb17(0x211)](_0x26cb17(0x261));if(!this.#s[_0x26cb17(0x1b1)](_0x24f177)){this.#r(_0x4118c0,new q(_0x4118c0));return;}let _0x5f1edf=_0x24f177==='CONNECT',_0x3ea56e=_0x40daa0[0x1][_0x26cb17(0x211)](_0x26cb17(0x261)),{host:_0x4f2abf,port:_0x1825e0}=this.#c(_0x3ea56e);if(_0x4f2abf===void 0x0){this.#r(_0x4118c0,new Y(_0x4118c0));return;}_0x1825e0===void 0x0&&(_0x1825e0=_0x5f1edf?0x1bb:0x50);let _0x508074=this[_0x26cb17(0x16e)][_0x26cb17(0x1d8)]===0x0||this[_0x26cb17(0x16e)]['has'](_0x4f2abf),_0x59b9aa=_0x40daa0[0x2]['toString'](_0x26cb17(0x261));if(!this.#t[_0x26cb17(0x1b1)](_0x59b9aa)){this.#r(_0x4118c0,new F(_0x4118c0));return;}try{v[_0x26cb17(0x229)](_0x26cb17(0x1d7)+_0x4f2abf+':'+_0x1825e0),_0x11ad37[_0x26cb17(0x175)]({'host':_0x4f2abf,'port':_0x1825e0,'autoSelectFamily':this[_0x26cb17(0x1e6)],'autoSelectFamilyAttemptTimeout':this['happyEyeballsTimeout'],'lookup':(_0x5a926b,_0x53aaf4,_0x2db335)=>{const _0x27e1fa=_0x26cb17;this[_0x27e1fa(0x16a)]['resolve'](_0x5a926b)[_0x27e1fa(0x231)](_0x58b6c9=>{const _0x1c7841=_0x27e1fa;if(_0x53aaf4?.[_0x1c7841(0x1cb)])_0x2db335(null,_0x58b6c9);else{let {address:_0x3ec675,family:_0x3d5426}=_0x58b6c9[_0x1c7841(0x160)](({family:_0x4424f0})=>_0x4424f0===0x4)??_0x58b6c9[_0x1c7841(0x160)](({family:_0x167d04})=>_0x167d04===0x6);_0x2db335(null,_0x3ec675,_0x3d5426);}},_0xd701be=>_0x2db335(_0xd701be));}});}catch(_0x1b81da){this.#r(_0x4118c0,new W(_0x11ad37,_0x1b81da));return;}if(_0x5f1edf){_0x508074?_0x4118c0[_0x26cb17(0x259)](_0x26cb17(0x212),_0x43d731=>{const _0x9faf6d=_0x26cb17;_0x11ad37[_0x9faf6d(0x25a)](_0x4118c0)[_0x9faf6d(0x25a)](_0x11ad37);let _0x2906e0=_0x43d731[_0x9faf6d(0x1d6)](0x0)===0x16;_0x2906e0&&_0x43d731['writeUInt16BE'](this[_0x9faf6d(0x19f)],0x1);try{if(_0x2906e0&&this[_0x9faf6d(0x1a3)]>0x0){let _0x2505a2=this[_0x9faf6d(0x1a3)];for(let _0x596bf2=0x0;_0x596bf2<_0x43d731[_0x9faf6d(0x1ab)];_0x596bf2+=_0x2505a2)_0x11ad37['write'](_0x43d731['subarray'](_0x596bf2,_0x596bf2+_0x2505a2));}else _0x11ad37[_0x9faf6d(0x1fd)](_0x43d731);}catch(_0x205b05){this.#r(_0x11ad37,new w(_0x11ad37,_0x205b05));return;}}):_0x11ad37['pipe'](_0x4118c0)[_0x26cb17(0x25a)](_0x11ad37);try{_0x4118c0[_0x26cb17(0x1fd)]('HTTP/1.1\x20200\x20Connection\x20Established\x0d\x0a\x0d\x0a');}catch(_0x5d2f9e){this.#r(_0x4118c0,new X(_0x4118c0,_0x5d2f9e));return;}}else{_0x11ad37[_0x26cb17(0x25a)](_0x4118c0)[_0x26cb17(0x25a)](_0x11ad37);let _0x1603fa=0x0;if(_0x508074){let _0x1d8ad1=_0x24f177+this[_0x26cb17(0x226)]+_0x3ea56e+this[_0x26cb17(0x1c6)]+_0x59b9aa+this[_0x26cb17(0x1d1)];_0x1603fa+=_0x5020b5[_0x26cb17(0x1d8)];let _0x2e125d=this.#a(_0x12f6cd,_0x1603fa);for(;_0x2e125d[_0x26cb17(0x212)]!==void 0x0&&_0x2e125d[_0x26cb17(0x212)]['byteLength']!==0x0;){if(_0x2e125d[_0x26cb17(0x212)][_0x26cb17(0x17d)](0x0,0x5)[_0x26cb17(0x211)](_0x26cb17(0x261))[_0x26cb17(0x258)]()==='host:'){let _0x42595e=_0x26cb17(0x15a),_0x1d27bf=_0x2e125d[_0x26cb17(0x212)]['subarray'](0x5)[_0x26cb17(0x211)](_0x26cb17(0x261))[_0x26cb17(0x283)]();_0x1d8ad1+=(this['httpMixHostHeaderCase']?this.#u(_0x42595e):_0x42595e)+this['httpHostHeaderSeparator']+_0x1d27bf+this['httpNewlineSeparator'];}else{let _0x34d061=_0x2e125d[_0x26cb17(0x212)]['toString'](_0x26cb17(0x261));_0x1d8ad1+=_0x34d061+this[_0x26cb17(0x1d1)];}_0x1603fa+=_0x2e125d[_0x26cb17(0x1d8)],_0x2e125d=this.#a(_0x12f6cd,_0x1603fa);}try{_0x11ad37[_0x26cb17(0x1fd)](_0x1d8ad1);}catch(_0x37b051){this.#r(_0x11ad37,new w(_0x11ad37,_0x37b051));return;}}try{_0x11ad37[_0x26cb17(0x1fd)](_0x12f6cd['subarray'](_0x1603fa));}catch(_0x468253){this.#r(_0x11ad37,new w(_0x11ad37,_0x468253));return;}}_0x4118c0['resume']();});};#r(_0x392374,_0x2f3d8b){const _0x432cba=_0x98ca86;_0x392374&&!_0x392374[_0x432cba(0x20d)]&&(_0x392374[_0x432cba(0x296)]?_0x392374[_0x432cba(0x259)](_0x432cba(0x175),()=>_0x392374[_0x432cba(0x28b)](_0x2f3d8b)):_0x392374[_0x432cba(0x28b)](_0x2f3d8b));}#l(..._0x490e27){this.#o(..._0x490e27);}#o(_0x54217f,_0x542125){const _0x5ec8d8=_0x98ca86;this[_0x5ec8d8(0x228)][_0x5ec8d8(0x1f1)](_0x54217f),this.#r(_0x542125);}#n(_0x49996d){const _0x534673=_0x98ca86;_0x49996d instanceof M?v['debug'](_0x49996d[_0x534673(0x270)]):_0x49996d[_0x534673(0x270)]?.[_0x534673(0x1ab)]>0x0&&(_0x49996d[_0x534673(0x293)]===_0x534673(0x275)?v[_0x534673(0x26f)](_0x49996d[_0x534673(0x270)]):_0x49996d['code']!==_0x534673(0x256)&&_0x49996d[_0x534673(0x293)]!==_0x534673(0x25d)&&v['error'](_0x49996d));}#a(_0x31e4b2,_0x28d159=0x0){const _0x1d47d2=_0x98ca86;let _0x2b4cbb,_0x37c186,_0x2dd9d4=_0x28d159,_0x2c433a=_0x31e4b2[_0x1d47d2(0x1c9)](0xa,_0x2dd9d4);return _0x2c433a>0x0?(_0x2b4cbb=_0x31e4b2[_0x1d47d2(0x17d)](_0x2dd9d4,_0x31e4b2[_0x2c433a-0x1]===0xd?_0x2c433a-0x1:_0x2c433a),_0x37c186=_0x2c433a-_0x2dd9d4+0x1):_0x28d159<_0x31e4b2[_0x1d47d2(0x199)]&&(_0x2b4cbb=_0x31e4b2[_0x1d47d2(0x17d)](_0x28d159),_0x37c186=_0x2b4cbb['byteLength']),{'data':_0x2b4cbb,'size':_0x37c186};}#i(_0x493c3a,_0x5b9940,_0x161ef3=-0x1,_0x49aa7c=0x0){const _0x357fdc=_0x98ca86;let _0x1c52bf=[],_0x178180=_0x49aa7c,_0x56fe71=-0x1;for(let _0x37eb00=_0x49aa7c;_0x37eb00<_0x493c3a[_0x357fdc(0x1ab)];_0x37eb00++)if(_0x5b9940['includes'](_0x493c3a[_0x37eb00])){if(_0x178180<=_0x56fe71){if(_0x161ef3>-0x1&&_0x161ef3<=_0x1c52bf[_0x357fdc(0x1ab)])break;_0x1c52bf[_0x357fdc(0x1df)](_0x493c3a[_0x357fdc(0x17d)](_0x178180,_0x56fe71+0x1));}_0x178180=_0x37eb00+0x1,_0x56fe71=-0x1;}else _0x56fe71=_0x37eb00;return _0x178180<_0x493c3a[_0x357fdc(0x1ab)]&&_0x1c52bf['push'](_0x493c3a['subarray'](_0x178180)),_0x1c52bf;}#c(_0x3556ae){const _0x919bbe=_0x98ca86;let _0x3423a6,_0x2f18,_0x455b04=_0x3556ae[_0x919bbe(0x25c)](/^(?:[a-z0-9.+-]+:\/\/)?(?:\[?([^/]+?)\]?)(?::([0-9]+))?(?:\/.*)?$/i);return _0x455b04!==null&&(_0x455b04[0x1]!==void 0x0&&(_0x3423a6=_0x455b04[0x1]['toLowerCase']()),_0x455b04[0x2]!==void 0x0&&(_0x2f18=Number[_0x919bbe(0x27a)](_0x455b04[0x2],0xa))),{'host':_0x3423a6,'port':_0x2f18};}#u(_0x4d32f2){const _0x59e5b1=_0x98ca86;let _0x1e309f='';for(let _0x1e4a8e=0x0;_0x1e4a8e<_0x4d32f2[_0x59e5b1(0x1ab)];_0x1e4a8e++)_0x1e309f+=_0x1e4a8e%0x2===0x0?_0x4d32f2[_0x1e4a8e][_0x59e5b1(0x258)]():_0x4d32f2[_0x1e4a8e]['toUpperCase']();return _0x1e309f;}#p(_0x4bc79e){const _0x2c21b9=_0x98ca86;return _0x4bc79e['replace'](/\\0/g,'\x00')[_0x2c21b9(0x1e9)](/\\b/g,'\x08')['replace'](/\\f/g,'\x0c')[_0x2c21b9(0x1e9)](/\\n/g,'\x0a')['replace'](/\\r/g,'\x0d')[_0x2c21b9(0x1e9)](/\\t/g,'\x09')[_0x2c21b9(0x1e9)](/\\v/g,'\x0b');}},a={'addrs':$(u(_0x98ca86(0x26e))),'hosts':$(u(_0x98ca86(0x20b))),'workers':x(u(_0x98ca86(0x1af))),'tlsCa':b(u(_0x98ca86(0x240))),'tlsKey':b(u(_0x98ca86(0x266))),'tlsCert':b(u(_0x98ca86(0x252))),'inactivityTimeout':x(u('N4_INACTIVITY_TIMEOUT')),'happyEyeballs':O(u(_0x98ca86(0x28c))),'happyEyeballsTimeout':x(u(_0x98ca86(0x158))),'dnsMode':p(u(_0x98ca86(0x1cd))),'dnsCacheSize':x(u(_0x98ca86(0x1f6))),'dohUrl':p(u(_0x98ca86(0x1d0))),'dohTlsServername':p(u(_0x98ca86(0x20a))),'dohTlsPin':p(u('N4_DOH_TLS_PIN')),'dotServer':p(u('N4_DOT_SERVER')),'dotTlsServername':p(u('N4_DOT_TLS_SERVERNAME')),'dotTlsPin':p(u(_0x98ca86(0x186))),'httpsClientHelloSize':x(u(_0x98ca86(0x1ba))),'httpsClientHelloTLSv':p(u(_0x98ca86(0x16d))),'httpNewlineSeparator':p(u(_0x98ca86(0x289))),'httpMethodSeparator':p(u(_0x98ca86(0x1f7))),'httpTargetSeparator':p(u('N4_HTTP_TARGET_SEPARATOR')),'httpHostHeaderSeparator':p(u(_0x98ca86(0x1b9))),'httpMixHostHeaderCase':O(u(_0x98ca86(0x208))),'logLevel':p(u(_0x98ca86(0x1f8)))},c=process[_0x98ca86(0x163)][_0x98ca86(0x262)](0x2);_0x30ae3f:for(let s=0x0;s<c[_0x98ca86(0x1ab)];s++)switch(c[s]){case'-A':case _0x98ca86(0x1f9):a['addrs']=$(c[++s]);break;case'-H':case _0x98ca86(0x221):a[_0x98ca86(0x16e)]=$(c[++s]);break;case'-W':case _0x98ca86(0x290):a['workers']=x(c[++s]);break;case'--tls-ca':a[_0x98ca86(0x215)]=b(c[++s]);break;case'--tls-key':a[_0x98ca86(0x1b5)]=b(c[++s]);break;case _0x98ca86(0x24b):a[_0x98ca86(0x15c)]=b(c[++s]);break;case _0x98ca86(0x1c5):a[_0x98ca86(0x195)]=x(c[++s]);break;case _0x98ca86(0x285):a[_0x98ca86(0x1e6)]=O(c[++s]);break;case'--happy-eyeballs-timeout':a[_0x98ca86(0x241)]=x(c[++s]);break;case _0x98ca86(0x238):a['dnsMode']=p(c[++s]);break;case _0x98ca86(0x15e):a[_0x98ca86(0x278)]=x(c[++s]);break;case'--doh-url':a[_0x98ca86(0x239)]=p(c[++s]);break;case _0x98ca86(0x18c):a[_0x98ca86(0x274)]=p(c[++s]);break;case _0x98ca86(0x14e):a[_0x98ca86(0x245)]=p(c[++s]);break;case _0x98ca86(0x295):a['dotServer']=p(c[++s]);break;case'--dot-tls-servername':a[_0x98ca86(0x19d)]=p(c[++s]);break;case _0x98ca86(0x225):a[_0x98ca86(0x150)]=p(c[++s]);break;case _0x98ca86(0x219):a[_0x98ca86(0x1a3)]=x(c[++s]);break;case _0x98ca86(0x271):a[_0x98ca86(0x19f)]=p(c[++s]);break;case _0x98ca86(0x209):a[_0x98ca86(0x1d1)]=p(c[++s]);break;case _0x98ca86(0x17b):a['httpMethodSeparator']=p(c[++s]);break;case _0x98ca86(0x18e):a[_0x98ca86(0x1c6)]=p(c[++s]);break;case _0x98ca86(0x222):a[_0x98ca86(0x1bd)]=p(c[++s]);break;case'--http-mix-host-header-case':a[_0x98ca86(0x151)]=O(c[++s]);break;case'-l':case _0x98ca86(0x282):a[_0x98ca86(0x24d)]=p(c[++s]);break;case'-v':case'--version':console['log']('n4\x201.0.1'),process[_0x98ca86(0x24c)](0x0);break;case'-h':case'--help':console[_0x98ca86(0x1e4)]([_0x98ca86(0x267),'',_0x98ca86(0x177),'','Proxy:','\x20\x20-A,\x20--addrs\x20STR,\x20$N4_ADDRS',_0x98ca86(0x20c),'\x20\x20(\x22[::]:8080\x22\x20by\x20default).','','\x20\x20-H,\x20--hosts\x20STR,\x20$N4_HOSTS',_0x98ca86(0x1b2),_0x98ca86(0x154),'',_0x98ca86(0x1ef),_0x98ca86(0x174),'','\x20\x20--tls-ca\x20STR,\x20$N4_TLS_CA','\x20\x20Path\x20to\x20the\x20TLS\x20certificate\x20bundle\x20used\x20to\x20verify\x20the\x20client\x20identity',_0x98ca86(0x181),'',_0x98ca86(0x263),_0x98ca86(0x216),'',_0x98ca86(0x1f5),_0x98ca86(0x173),'','\x20\x20--inactivity-timeout\x20NUM,\x20$N4_INACTIVITY_TIMEOUT','\x20\x20Maximum\x20time\x20in\x20ms\x20before\x20the\x20connection\x20is\x20closed\x20due\x20to\x20inactivity',_0x98ca86(0x14d),'',_0x98ca86(0x22f),_0x98ca86(0x206),'','\x20\x20--happy-eyeballs-timeout\x20NUM,\x20$N4_HAPPY_EYEBALLS_TIMEOUT',_0x98ca86(0x180),'',_0x98ca86(0x193),_0x98ca86(0x17c),'\x20\x20The\x20DNS\x20resolver\x20mode,\x20valid\x20values\x20are\x20\x22plain\x22,\x20\x22doh\x22\x20and\x20\x22dot\x22\x20(\x22doh\x22\x20by',_0x98ca86(0x1ee),'','\x20\x20--dns-cache-size\x20NUM,\x20$N4_DNS_CACHE_SIZE',_0x98ca86(0x165),'',_0x98ca86(0x200),_0x98ca86(0x194),'',_0x98ca86(0x198),_0x98ca86(0x23d),_0x98ca86(0x1ee),'',_0x98ca86(0x264),_0x98ca86(0x26c),_0x98ca86(0x236),'',_0x98ca86(0x210),_0x98ca86(0x1c1),'',_0x98ca86(0x265),'\x20\x20The\x20server\x20name\x20to\x20check\x20in\x20the\x20DoT\x20server\x20certificate\x20(unspecified\x20by',_0x98ca86(0x1ee),'',_0x98ca86(0x1bf),_0x98ca86(0x287),'\x20\x20encoded\x20SHA256\x20hash\x20of\x20the\x20public\x20key\x20(unspecified\x20by\x20default).','','HTTPS:',_0x98ca86(0x1e5),_0x98ca86(0x20f),_0x98ca86(0x204),'','\x20\x20--https-clienthello-tlsv\x20STR,\x20$N4_HTTPS_CLIENTHELLO_TLSV',_0x98ca86(0x288),_0x98ca86(0x18d),'',_0x98ca86(0x1b4),'\x20\x20--http-newline-separator\x20STR,\x20$N4_HTTP_NEWLINE_SEPARATOR','\x20\x20The\x20string\x20to\x20use\x20to\x20separate\x20new\x20lines\x20(\x22\x5cr\x5cn\x22\x20by\x20default).','',_0x98ca86(0x1fb),_0x98ca86(0x243),_0x98ca86(0x1ee),'',_0x98ca86(0x1ed),_0x98ca86(0x161),'\x20\x20default).','',_0x98ca86(0x1b3),_0x98ca86(0x1fc),_0x98ca86(0x1ee),'',_0x98ca86(0x1fa),_0x98ca86(0x20e),'',_0x98ca86(0x18a),_0x98ca86(0x185),'\x20\x20The\x20log\x20level,\x20valid\x20values\x20are\x20\x22debug\x22,\x20\x22info\x22,\x20\x22warn\x22,\x20\x22error\x22\x20and\x20\x22none\x22','\x20\x20(\x22info\x22\x20by\x20default).','','\x20\x20-v,\x20--version',_0x98ca86(0x19b),'',_0x98ca86(0x286),_0x98ca86(0x1d3)]['join']('\x0a')),process['exit'](0x0);break;case'--':break _0x30ae3f;default:console[_0x98ca86(0x1e4)]([_0x98ca86(0x201)+c[s]+'\x22.',_0x98ca86(0x297)][_0x98ca86(0x1ea)]('\x0a')),process[_0x98ca86(0x24c)](0x1);}a['logLevel']?.[_0x98ca86(0x1ab)]>0x0&&(v[_0x98ca86(0x25e)]=a[_0x98ca86(0x24d)]);if(a[_0x98ca86(0x217)]>0x0&&L[_0x98ca86(0x178)]['isPrimary']){L[_0x98ca86(0x178)]['on'](_0x98ca86(0x1bc),_0xe98b56=>{const _0x13c90c=_0x98ca86;v[_0x13c90c(0x229)](_0x13c90c(0x24e)+_0xe98b56['process'][_0x13c90c(0x230)]+_0x13c90c(0x257));}),L[_0x98ca86(0x178)]['on']('exit',(_0x3820ef,_0x57cd92,_0x171f95)=>{const _0x102d40=_0x98ca86;v[_0x102d40(0x229)]('Worker\x20'+_0x3820ef[_0x102d40(0x253)][_0x102d40(0x230)]+_0x102d40(0x202)+(_0x171f95||_0x57cd92)+')');});for(let s of[_0x98ca86(0x1d2),'SIGTERM'])process[_0x98ca86(0x259)](s,_0x570c02=>{const _0x1e23b1=_0x98ca86;v[_0x1e23b1(0x1a8)](_0x1e23b1(0x1a0));for(let _0xd806ef in Object[_0x1e23b1(0x188)](L[_0x1e23b1(0x178)]['workers']))_0xd806ef[_0x1e23b1(0x253)]?.[_0x1e23b1(0x1f0)](_0x570c02);});for(let s=0x0;s<a[_0x98ca86(0x217)];s++)L[_0x98ca86(0x178)][_0x98ca86(0x1be)]();}else{let s=new re({'addrs':a[_0x98ca86(0x24f)],'hosts':a[_0x98ca86(0x16e)],'tlsCa':a['tlsCa'],'tlsKey':a[_0x98ca86(0x1b5)],'tlsCert':a[_0x98ca86(0x15c)],'inactivityTimeout':a[_0x98ca86(0x195)],'happyEyeballs':a[_0x98ca86(0x1e6)],'happyEyeballsTimeout':a['happyEyeballsTimeout'],'httpsClientHelloSize':a[_0x98ca86(0x1a3)],'httpsClientHelloTLSv':a[_0x98ca86(0x19f)],'httpNewlineSeparator':a['httpNewlineSeparator'],'httpMethodSeparator':a[_0x98ca86(0x226)],'httpTargetSeparator':a[_0x98ca86(0x1c6)],'httpHostHeaderSeparator':a['httpHostHeaderSeparator'],'httpMixHostHeaderCase':a[_0x98ca86(0x151)],'resolver':new C({'dnsMode':a['dnsMode'],'dnsCacheSize':a['dnsCacheSize'],'dohUrl':a[_0x98ca86(0x239)],'dohTlsServername':a[_0x98ca86(0x274)],'dohTlsPin':a[_0x98ca86(0x245)],'dotServer':a[_0x98ca86(0x191)],'dotTlsServername':a[_0x98ca86(0x19d)],'dotTlsPin':a[_0x98ca86(0x150)]})});((async()=>{const _0x444bc3=_0x98ca86;let _0x13df08=await s['start']();for(let _0x22d037 of _0x13df08){let {address:_0x3af2ad,family:_0x1ca7fb,port:_0x5d680f}=_0x22d037[_0x444bc3(0x1de)]();_0x1ca7fb===_0x444bc3(0x1a6)&&(_0x3af2ad='['+_0x3af2ad+']'),v[_0x444bc3(0x1a8)](_0x444bc3(0x255)+_0x3af2ad+':'+_0x5d680f);}for(let _0x2ec97f of['SIGINT',_0x444bc3(0x272)])process[_0x444bc3(0x259)](_0x2ec97f,async()=>{const _0x58155b=_0x444bc3;v['info'](_0x58155b(0x1a0)),await s['stop'](),process[_0x58155b(0x24c)](0x0);});})());}